<head>
  <script>
      let totalTime;
      
      let RESET_TIMER = () => {
        
      }
      
      let START_TIMER = () => {
        RESET_TIMER() 
        
        let minutes = parseInt(document.getElementById("input-minute").value) || 0; // prevent NaN
        let seconds = parseInt(document.getElementById("input-second").value) || 0;
        
        totalTime = totalTimeInSeconds(minutes, seconds);
        
        countDownFn();
      }
      
      let totalTimeInSeconds = (mins, secs) => {
        return mins * 60 + secs
      }

      // want to declare this var only once, but the countDownFn context is diffeent
      // let timer = document.getElementById("timer");
      
      let displayTime = () => {
        let mins = Math.floor(totalTime / 60)
        let secs = totalTime % 60
        
        return { mins: mins, secs: secs }
      }
      
      let countDownFn = () => {
        let timer = () => {
          let timerMin = document.getElementById("timer-mins");
          let timerSec = document.getElementById("timer-secs");
          
        // add test for 1 minute 1 second
          timerMin.innerHTML = displayTime().mins
          timerSec.innerHTML = displayTime().secs
          
          if (totalTime <= 0){
            clearInterval(interval);
          }
          decrementTime()
        }
        
        let interval = setInterval(timer, 1000)
      }
      
      
      let decrementTime = () => {
        totalTime--;
      }
      // todo: prevent more setintervals adding to page upon multiple clicks
      // todo: form validation
  </script>
</head>

<body>

  <div class="countdown">
    <h1>
      Time left (MM:SS):
    </h1>
    <div class="">
      <span id="timer-mins">
        0
      </span>
      :
      <span id="timer-secs">
        0
      </span>
    </div>
  </div>

  <div class="user-input">
    <h1>Input Time:</h1>
    <label for="">
      Minute
      <input type="number" max="15" id="input-minute">
    </label>
    <label for="">
      Seconds
      <input type="number" range="1-60" id="input-second">
    </label>

    <input type="submit" onclick="START_TIMER()" value="Click">
  </div>
</body>


